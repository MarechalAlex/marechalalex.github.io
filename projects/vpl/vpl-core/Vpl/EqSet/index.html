<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>EqSet (vpl-core.Vpl.EqSet)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">vpl-core</a> &#x00BB; <a href="../index.html">Vpl</a> &#x00BB; EqSet</nav><h1>Module <code>Vpl.EqSet</code></h1></header><aside><p>This module handles equality sets. Equality sets are maintained in echelon form.</p></aside><div class="spec module" id="module-Cs"><a href="#module-Cs" class="anchor"></a><code><span class="keyword">module</span> Cs = <a href="../Cstr/index.html#module-Rat">Cstr.Rat</a></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'c t</span></code><code> = <span><span>(<a href="../Var/index.html#type-t">Var.t</a> * <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span>)</span> list</span></code></dt><dd><p>Type of equality set. Each equality defines a variable in terms of the others.</p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <span>(<a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-to_string_ext"><a href="#val-to_string_ext" class="anchor"></a><code><span class="keyword">val</span> to_string_ext : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span>(<a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-nil"><a href="#val-nil" class="anchor"></a><code><span class="keyword">val</span> nil : <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Empty equality set: top.</p></dd></dl><dl><dt class="spec value" id="val-isTop"><a href="#val-isTop" class="anchor"></a><code><span class="keyword">val</span> isTop : <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><dl><dt>returns</dt><dd><p>true if the given equality set is top.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> list</span></code></dt><dd><dl><dt>returns</dt><dd><p>the list of equalities of the set.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span></code></dt><dd><p>Rewrites a constraint according to an equality set.</p><dl><dt>parameter factory</dt><dd><p>the factory</p></dd></dl><dl><dt>parameter set</dt><dd><p>the equality set</p></dd></dl><dl><dt>parameter cons</dt><dd><p>the constraint to rewrite</p></dd></dl><dl><dt>returns</dt><dd><p><code>cons</code> where each variable in <code>set</code> has been substitued with its definition.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-filter2"><a href="#val-filter2" class="anchor"></a><code><span class="keyword">val</span> filter2 : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../Vpl__Cstr/Rat/index.html#type-t">Cs.t</a> <span>&#45;&gt;</span> <a href="../../Vpl__Cstr/Rat/index.html#type-t">Cs.t</a> * <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span></code></dt><dd><p>Rewrites a constraint according to an equality set.</p><dl><dt>parameter factory</dt><dd><p>the factory</p></dd></dl><dl><dt>parameter set</dt><dd><p>the equality set</p></dd></dl><dl><dt>parameter cons</dt><dd><p>the constraint to rewrite</p></dd></dl><dl><dt>returns</dt><dd><p><code>cstr'</code> which is equal to <code>cons</code> where variables have been substitued by their definition in <code>eqset</code></p></dd></dl><dl><dt>returns</dt><dd><p><code>cert</code>: the combination of constraints of <code>set</code> that must be added to <code>cons</code> to obtain <code>cstr'</code> For instance, <code>filter2 f (x = 2y+1) (2x &lt;= 1)</code> returns <code>(4y&lt;=-1, 2x - 4y = 2)</code>.</p></dd></dl></dd></dl><dl><dt class="spec type" id="type-rel_t"><a href="#type-rel_t" class="anchor"></a><code><span class="keyword">type</span> <span>'c rel_t</span></code><code> = </code><table class="variant"><tr id="type-rel_t.NoIncl" class="anchored"><td class="def constructor"><a href="#type-rel_t.NoIncl" class="anchor"></a><code>| </code><code><span class="constructor">NoIncl</span></code></td></tr><tr id="type-rel_t.Incl" class="anchored"><td class="def constructor"><a href="#type-rel_t.Incl" class="anchor"></a><code>| </code><code><span class="constructor">Incl</span> <span class="keyword">of</span> <span><span class="type-var">'c</span> list</span></code></td></tr></table></dt><dd><p>Result of an inclusion testing.</p></dd></dl><dl><dt class="spec value" id="val-leq"><a href="#val-leq" class="anchor"></a><code><span class="keyword">val</span> leq : <span><span class="type-var">'c1</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c1</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c2</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c1</span> <a href="index.html#type-rel_t">rel_t</a></span></code></dt><dd><p>Tests the inclusion between two equality sets</p><dl><dt>parameter factory</dt><dd><p>the factory for <code>set1</code></p></dd></dl><dl><dt>parameter set1</dt><dd><p>the first equality set</p></dd></dl><dl><dt>parameter set2</dt><dd><p>the second equality set</p></dd></dl><dl><dt>returns</dt><dd><p>true if <code>set1</code> &lt;= <code>set2</code>, ie. if <code>set2</code> includes <code>set1</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-satisfy"><a href="#val-satisfy" class="anchor"></a><code><span class="keyword">val</span> satisfy : <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../Vpl__Vector/Rat/index.html#type-t">Cs.Vec.t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <span><span class="type-var">'c1</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c2</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Does not check certificates.</p></dd></dl><dl><dt class="spec value" id="val-choose"><a href="#val-choose" class="anchor"></a><code><span class="keyword">val</span> choose : <a href="../../Vpl__Cstr/Rat/index.html#type-t">Cs.t</a> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> * <a href="../../Vpl__Scalar/Rat/index.html#type-t">Cs.Vec.Coeff.t</a></code></dt><dt class="spec value" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-pick"><a href="#val-pick" class="anchor"></a><code><span class="keyword">val</span> pick : <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> <span>&#45;&gt;</span> <span><a href="../Var/index.html#type-t">Var.t</a> option</span></code></dt><dt class="spec value" id="val-subst"><a href="#val-subst" class="anchor"></a><code><span class="keyword">val</span> subst : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>subst factory x c s</code> substitutes <code>x</code> in <code>s</code> by its definition in <code>c</code>.</p></dd></dl><dl><dt class="spec value" id="val-tryDefs"><a href="#val-tryDefs" class="anchor"></a><code><span class="keyword">val</span> tryDefs : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> * <a href="../Var/index.html#type-t">Var.t</a>)</span> option</span> * <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-trySubstM"><a href="#val-trySubstM" class="anchor"></a><code><span class="keyword">val</span> trySubstM : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> * <a href="../Var/index.html#type-t">Var.t</a>)</span> option</span> * <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-trySubst"><a href="#val-trySubst" class="anchor"></a><code><span class="keyword">val</span> trySubst : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> option</span> * <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt></dl><dl><dt class="spec type" id="type-meetT"><a href="#type-meetT" class="anchor"></a><code><span class="keyword">type</span> <span>'c meetT</span></code><code> = </code><table class="variant"><tr id="type-meetT.Added" class="anchored"><td class="def constructor"><a href="#type-meetT.Added" class="anchor"></a><code>| </code><code><span class="constructor">Added</span> <span class="keyword">of</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></td></tr><tr id="type-meetT.Bot" class="anchored"><td class="def constructor"><a href="#type-meetT.Bot" class="anchor"></a><code>| </code><code><span class="constructor">Bot</span> <span class="keyword">of</span> <span class="type-var">'c</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-meetEq"><a href="#val-meetEq" class="anchor"></a><code><span class="keyword">val</span> meetEq : <span><span class="type-var">'c</span> <a href="index.html#type-meetT">meetT</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-meetT">meetT</a></span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-meet_to_string"><a href="#val-meet_to_string" class="anchor"></a><code><span class="keyword">val</span> meet_to_string : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span>(<a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-meetT">meetT</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-addM"><a href="#val-addM" class="anchor"></a><code><span class="keyword">val</span> addM : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-meetT">meetT</a></span></code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <span><span class="type-var">'c</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="../Cons/index.html#type-t">Cons.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-meetT">meetT</a></span></code></dt><dt class="spec value" id="val-joinSetup_1"><a href="#val-joinSetup_1" class="anchor"></a><code><span class="keyword">val</span> joinSetup_1 : <span><span class="type-var">'c2</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'c1</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> * <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> * <span><span>(<a href="../Var/index.html#type-t">Var.t</a> * <span><span><span>(<span class="type-var">'c1</span>,Â <span class="type-var">'c2</span>)</span> <a href="../Cons/index.html#type-discr_t">Cons.discr_t</a></span> <a href="../Cons/index.html#type-t">Cons.t</a></span>)</span> list</span></code></dt><dt class="spec value" id="val-joinSetup_2"><a href="#val-joinSetup_2" class="anchor"></a><code><span class="keyword">val</span> joinSetup_2 : <span><span class="type-var">'c1</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'c2</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> * <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> * <span><span>(<a href="../Var/index.html#type-t">Var.t</a> * <span><span><span>(<span class="type-var">'c1</span>,Â <span class="type-var">'c2</span>)</span> <a href="../Cons/index.html#type-discr_t">Cons.discr_t</a></span> <a href="../Cons/index.html#type-t">Cons.t</a></span>)</span> list</span></code></dt><dt class="spec value" id="val-minkowskiSetup_1"><a href="#val-minkowskiSetup_1" class="anchor"></a><code><span class="keyword">val</span> minkowskiSetup_1 : <span><span class="type-var">'c2</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c1</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> * <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> * <span><span>(<a href="../Var/index.html#type-t">Var.t</a> * <span><span><span>(<span class="type-var">'c1</span>,Â <span class="type-var">'c2</span>)</span> <a href="../Cons/index.html#type-discr_t">Cons.discr_t</a></span> <a href="../Cons/index.html#type-t">Cons.t</a></span>)</span> list</span></code></dt><dt class="spec value" id="val-minkowskiSetup_2"><a href="#val-minkowskiSetup_2" class="anchor"></a><code><span class="keyword">val</span> minkowskiSetup_2 : <span><span class="type-var">'c1</span> <a href="../Factory/index.html#type-t">Factory.t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c2</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Var/index.html#type-t">Var.t</a> * <span><span><a href="../Var/index.html#type-t">Var.t</a> option</span> <a href="../Rtree/index.html#type-t">Rtree.t</a></span> * <span><span>(<a href="../Var/index.html#type-t">Var.t</a> * <span><span><span>(<span class="type-var">'c1</span>,Â <span class="type-var">'c2</span>)</span> <a href="../Cons/index.html#type-discr_t">Cons.discr_t</a></span> <a href="../Cons/index.html#type-t">Cons.t</a></span>)</span> list</span></code></dt></dl></div></body></html>